d
names(d) <- "letters"
d
d$letters<-as.factor(d$letters)
ls
d
levels(d$letters)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <- getTidyData()
head(data)
head(d)
head(d)
d <- getTidyData()
head(d)
source('C:/Users/zixing.liu/Desktop/regression/regressionTripAdvisor.r')
View(d)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d<-getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d<-getTidyData()
head(d)
d
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
head(d)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d<-getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d<-getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d<-getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
head(data)
names(data)
d <- getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <- getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <- getTidyData()
head(d)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
head(d)
d <- getTidyData()
head(d)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <- getTidyData()
head(d)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <- getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <- getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
head(data)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
FulldataSize
source('C:/Users/zixing.liu/Desktop/regression/predictAndPlot.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/predictAndPlot.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
summry(linear_model)
summary(linear_model)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
summary(linear_model)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
summary(linear_model)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
summary(linear_model)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
str(subdata)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/regressionBalsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/regressionTripAdvisor.r')
source('C:/Users/zixing.liu/Desktop/regression/regressionTripAdvisor.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/regressionTripAdvisor.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <-getTidyData()
head(d)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
install.packages('RCurl')
install.packages('rjson')
help(install.packages)
install.packages("googlepredictionapi_0.1.tar.gz", repos=NULL, type="source")
install.packages("googlepredictionapi_0.1.zip", repos=NULL, type="source")
install.packages("googlepredictionapi.zip", repos=NULL, type="source")
library
library()
install.packages("googlepredictionapi.zip", repos=NULL, type="source")
library(googlepredictionapi)
library(DAAG)
data <- read.csv("balsamik//tinyData_visit_gain.csv",header=TRUE)
fea <- read.csv("balsamik//energyx.csv",header=FALSE)
names(fea) <- c("Date","energy.consumption","festival")
D3<-merge(data,fea,by = "Date")
head(D3)
tail(D3)
write.csv(D3, "balsamik//tinyData_visit_gain2.csv", row.names=FALSE)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
head(trandata)
head(traindata)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
traindata$festival
source('C:/Users/zixing.liu/Desktop/regression/regressionTripAdvisor.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
data <- read.csv("balsamik//tinyData_visit_gain2.csv",header=TRUE)
head(data)
data
sum(data$festival)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
plot(glm)
plot(glm_model)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
fitted(glm_model)
coef(glm_model)
print (names(subdata))
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
debugSource('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
1-pchisq(12.63,7)
1-pchisq(234623411,1469)
1-pchisq(23462341100000,1469)
1-pchisq(23462341100000000000000,1469)
1-pchisq(234623,1469)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
1-pchisq(526049570,2181)
glm_model
1-pchisq(5.26e+08,2181)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <-getTidyData()
head(d)
class(d$Chaine)
class(d$TAv)
data <- read.csv("balsamik//tinyData_visit_gain2.csv",header=TRUE)
data
head(data)
class(data$EmAp)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <-getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <-getTidyData()
head(d)
dim(head)
dim(d)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <-getTidyData()
D3[,c(1,11,12,2:10,13:21)]
d[,c(1,11,12,2:10,13:21)]
head(D3[,c(1,11,12,2:10,13:21)])
head(d[,c(1,11,12,2:10,13:21)])
c(1,11,12,2:10,13:21)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d<-getTidyData()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d<-getTidyData()
head(d)
d$Isole
length(d$Isole)
View(fea)
View(data)
View(fea)
View(subdata)
View(traindata)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
Pre_Avant_Apres()
data <- read.csv("balsamik//tinyData_visit_gain2.csv",header=TRUE)
print (head(data))
print (names(data))
FulldataSize <- nrow(data)
index<-1:FulldataSize
traningSize <- as.integer(0.8 * FulldataSize)
subdata_avant <- data[1:FulldataSize,c(-1,-3)]
subdata_apres <- data[1:FulldataSize,c(-1,-2)]
traindata_avant <- subdata_avant[1:traningSize,]
traindata_apres <- subdata_apres[1:traningSize,]
class(data$Chaine)
Pre_Avant_Apres()
sqdfqs
exit
exit()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
data <- read.csv("balsamik//tinyData_visit_gain2.csv",header=TRUE)
print (head(data))
print (names(data))
FulldataSize <- nrow(data)
index<-1:FulldataSize
traningSize <- as.integer(0.8 * FulldataSize)
subdata_avant <- data[1:FulldataSize,c(-1,-3)]
subdata_apres <- data[1:FulldataSize,c(-1,-2)]
traindata_avant <- subdata_avant[1:traningSize,]
traindata_apres <- subdata_apres[1:traningSize,]
glm_model_avant <- glm(Avant.Visites~.,data=traindata_avant,family = poisson())
summary(glm_model_avant)
1-pchisqc(424.25,61)
1-pchisq(424.25,61)
View(data)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
d <- getTidyData()
head(d)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
head(d)
d <- getTidyData()
head(d)
Pre_Avant_Apres()
origin_apres <- subdata_apres[,1]
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
Pre_Avant_Apres()
#init
data <- read.csv("balsamik//tinyData_visit_gain2.csv",header=TRUE)
print (head(data))
print (names(data))
FulldataSize <- nrow(data)
index<-1:FulldataSize
traningSize <- as.integer(0.8 * FulldataSize)
subdata_avant <- data[1:FulldataSize,c(-1,-3)]
subdata_apres <- data[1:FulldataSize,c(-1,-2)]
traindata_avant <- subdata_avant[1:traningSize,]
traindata_apres <- subdata_apres[1:traningSize,]
#build model
glm_model_avant <- glm(Avant.Visites~.,data=traindata_avant,family = poisson())
glm_model_apres <- glm(Apres.Visites~.,data=traindata_apres,family = poisson())
test_data_avant <- subdata_avant[,c(-1)]
test_data_apres <- subdata_apres[,c(-1)]
pre_avant <-predict(glm_model_avant,test_data_avant)
pre_apres <-predict(glm_model_apres,test_data_apres)
origin_avant <- subdata_avant[,1]
origin_apres <- subdata_apres[,1]
originY<- origin_apres - origin_apres
head(originY)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
Pre_Avant_Apres()
head(pre)
data <- read.csv("balsamik//tinyData_visit_gain2.csv",header=TRUE)
print (head(data))
print (names(data))
FulldataSize <- nrow(data)
index<-1:FulldataSize
traningSize <- as.integer(0.8 * FulldataSize)
subdata_avant <- data[1:FulldataSize,c(-1,-3)]
subdata_apres <- data[1:FulldataSize,c(-1,-2)]
traindata_avant <- subdata_avant[1:traningSize,]
traindata_apres <- subdata_apres[1:traningSize,]
#build model
glm_model_avant <- glm(Avant.Visites~.,data=traindata_avant,family = poisson())
glm_model_apres <- glm(Apres.Visites~.,data=traindata_apres,family = poisson())
test_data_avant <- subdata_avant[,c(-1)]
test_data_apres <- subdata_apres[,c(-1)]
pre_avant <-predict(glm_model_avant,test_data_avant)
pre_apres <-predict(glm_model_apres,test_data_apres)
origin_avant <- subdata_avant[,1]
origin_apres <- subdata_apres[,1]
originY<- origin_apres - origin_avant
pre <- pre_apres - pre_avant
head(pre_avant)
pre_avant
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
Pre_Avant_Apres()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
1-pchisq(141895,1586)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
Pre_Avant_Apres()
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
Pre_Avant_Apres<-function(){
#init
data <- read.csv("balsamik//tinyData_visit_gain2.csv",header=TRUE)
print (head(data))
print (names(data))
#data$Heure <- as.factor(data$Heure)
FulldataSize <- nrow(data)
index<-1:FulldataSize
traningSize <- as.integer(0.8 * FulldataSize)
subdata_avant <- data[1:FulldataSize,c(-1,-3)]
subdata_apres <- data[1:FulldataSize,c(-1,-2)]
traindata_avant <- subdata_avant[1:traningSize,]
traindata_apres <- subdata_apres[1:traningSize,]
#build model
glm_model_avant <- glm(Avant.Visites~.,data=traindata_avant,family = poisson())
glm_model_apres <- glm(Apres.Visites~.,data=traindata_apres,family = poisson())
test_data_avant <- subdata_avant[,c(-1)]
test_data_apres <- subdata_apres[,c(-1)]
print (summary(glm_model_avant))
print (summary(glm_model_apres))
pre_avant <-predict(glm_model_avant,test_data_avant,type = "response")
pre_apres <-predict(glm_model_apres,test_data_apres,type = "response")
origin_avant <- subdata_avant[,1]
origin_apres <- subdata_apres[,1]
originY<- origin_apres - origin_avant
pre <- pre_apres - pre_avant
Plot_Avant_Apres(index,pre,originY,traningSize,FulldataSize)
}
Plot_Avant_Apres<-function(index,pre,originY,traningSize,FulldataSize){
plot(index,originY,type = 'n',col='red',xlab='date',ylab='sessions')
#points(0:25, rep(0.3, 26), pch = 0:25, bg = "grey")
points(index,originY,col="red",lwd=2)
points(index[traningSize:FulldataSize],pre[traningSize:FulldataSize],col="blue",lwd=2)
points(index[1:traningSize],pre[1:traningSize],col="black",lwd=2)
#   legend("topleft",                       # x-y coordinates for location of the legend
#          legend=c("predicted with traning set", "Real Sessions", "predicted with testing set"),      # Legend labels
#          col=c("black", "red", "blue"),   # Color of points or lines
#          pch=c(19,19,19),                 # Point type
#          lty=c(1,1,1),                    # Line type
#          lwd=c(1,1,1),                    # Line width
#          title="Time series")
}
predictAndPlot<-function(index,subdata,lm_model,traningSize,FulldataSize){
test_data <- subdata[,c(-1)]
pre <-predict(lm_model,test_data)
originY <- subdata[,1]
plot(index,originY,type = 'n',col='red',xlab='date',ylab='sessions')
points(index,originY,col="red",lwd=2)
points(index[traningSize:FulldataSize],pre[traningSize:FulldataSize],col="blue",lwd=2)
points(index[1:traningSize],pre[1:traningSize],col="black",lwd=2)
}
add2features <-function(){
library(DAAG)
data <- read.csv("balsamik//tinyData_visit_gain.csv",header=TRUE)
fea <- read.csv("balsamik//energyx.csv",header=FALSE)
names(fea) <- c("Date","energy.consumption","festival")
D3<-merge(data,fea,by = "Date")
write.csv(D3, "balsamik//tinyData_visit_gain2.csv", row.names=FALSE)
return (D3)
}
getTidyData <- function(){
data <- read.csv("balsamik//predict_visit.csv",header=TRUE)
#   First we get a list of all unique classes:
#   lname <- c("Chaine","Version","TAv","EmAv","TAp","EmAp")
#   for (i in 1:6){
#     data <- mapString(data,lname[i])
#   }
data$Date <- as.Date(data$Date)
weekday <- as.numeric(format(data$Date,'%w'))
nthweek <- as.numeric(format(data$Date,'%W'))
month <- as.numeric(format(data$Date,'%m'))
D3<-data.frame(data,weekday,nthweek,month)
D3$GRP<- as.numeric(gsub(",",".",D3$GRP))
D3$BudgetNet<- as.numeric(gsub(",",".",D3$BudgetNet))
#visits_gain <- D3$Apres.Visites - D3$Avant.Visites
#D3<-data.frame(D3,visits_gain)
D3 <- D3[D3$Isole == 1,]
D3$Heure <- as.factor(D3$Heure)
write.csv(D3[,c(1,11,12,2,6:9,17:19)], "balsamik//tinyData_visit_gain.csv", row.names=FALSE)
D3 <-add2features()
return (D3)
}
mapString<- function(data,s){
print (head(data[,c(s)]))
allClasses <- c(unique(data[,c(s)]))
# Now a named vector mapping classes to numeric values:
numMap <- 1:length(allClasses)
names(numMap) <- allClasses
# Now we can use numMap to reassign numeric values
data[,c(s)] <- numMap[data[,c(s)]]
# clean up
rm(allClasses)
return (data)
}
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
Pre_Avant_Apres();
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
install.packages(statmod)
install.packages("statmod")
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
library(statmod)
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
source('C:/Users/zixing.liu/Desktop/regression/AD_Impact_Balsamik.r')
